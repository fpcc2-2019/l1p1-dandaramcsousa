---
title: "Temperatura JP x CG"
output:
    html_document:
    df_print: paged
theme: sandstone
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
library(here)
library(lubridate)
library(ggbeeswarm)
theme_set(theme_bw())
```

```{r read}
climas = read_csv(here::here("data/clima_cg_jp-semanal.csv"), 
                  col_types = "cTdddddd")

glimpse(climas)
```

## Temperatura

### Onde é mais quente?
  Para obter os picos de calor seleciona-se cada temperatura máxima semanal nos dados. Após, com um gráfico beeswarm e agrupando as temperaturas por cidade se torna mais fácil enxergar qual cidade detém os maiores picos de calor. Enquanto João Pessoa teve no máximo temperaturas por volta de 33.5° Campina Grande teve um pico de 34.5° e com várias semanas com temperaturas máximas acima do pico pessoense.

```{r}
climas %>%
  ggplot(mapping=aes(cidade,tmax, color = cidade)) + 
  geom_quasirandom(size=.50) +
  scale_x_discrete(name = "Cidade") +
  scale_y_continuous(name = "Temperatura Máxima", breaks = seq(25,35,1)) +
  theme(legend.position = "none")
```



### As temperaturas máximas semanais (o pico do calor) são tão diferentes quanto as médias? Mais?  

### Quais os meses mais quentes e mais frios? 

### Qual foi o São João  mais frio de CG que está nos nossos dados?
  Filtrando os dados para apenas a cidade de Campina Grande e no período entre 18 e 24 de junho o São João mais frio é aquele onde a temperatura mínima semanal foi a menor de todas. Para este caso, observando anualmente é visto que dois anos possuem esse marco de São João mais frio. São eles 1997 e 2018 com temperaturas mínimas de 16.6°.
```{r}
climas %>%
  filter(cidade == "Campina Grande" & mes == 6 & day(as.Date(semana)) >= 18 & day(as.Date(semana)) <=24) %>%
  ggplot(aes(ano,tmin)) + 
  geom_line() +
  geom_text(aes(label=tmin),hjust=0, vjust=0, size=3) +
  scale_x_continuous(name = "Ano", breaks = seq(1995,2018,2)) +
  scale_y_continuous(name = "Temperatura Mínima", breaks = seq(16,25,0.5)) +
  theme(axis.text.x = element_text(angle = 45))

```



## Chuva

### Quanto chove por semana em JP e CG?

Como é a distribuição do volume de chuvas por semana em JP e CG? A chuva varia mais ou menos que a temperatura? O formato da distribuição é igual? 

### No geral, onde chove mais?
```{r}
#boxplot, mediana
climas %>%
  ggplot(aes(cidade, chuva)) +
  geom_boxplot()
```

### A distribuição é diferente em meses específicos? 
```{r}
#
```

